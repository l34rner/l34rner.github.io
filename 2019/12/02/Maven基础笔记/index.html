<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Maven基础笔记"><meta name="keywords" content="学习篇·化无炼有"><meta name="author" content="Expvul.0D,undefined"><meta name="copyright" content="Expvul.0D"><title>Maven基础笔记【Exploit this vulnerable world】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="icon" href="/sec.ico"><!-- script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")--><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
}</script></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="文章目录">站点概览</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">目录</div><div class="sidebar-toc-progress"><span class="progress-notice">您已阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是maven"><span class="toc-number">1.</span> <span class="toc-text">什么是maven</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#POM"><span class="toc-number">2.</span> <span class="toc-text">POM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#project"><span class="toc-number">2.1.</span> <span class="toc-text">project</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#modelVersion"><span class="toc-number">2.2.</span> <span class="toc-text">modelVersion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#groupId"><span class="toc-number">2.3.</span> <span class="toc-text">groupId</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#artifactId"><span class="toc-number">2.4.</span> <span class="toc-text">artifactId</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#version"><span class="toc-number">2.5.</span> <span class="toc-text">version</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#packaging"><span class="toc-number">2.6.</span> <span class="toc-text">packaging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#name和url"><span class="toc-number">2.7.</span> <span class="toc-text">name和url</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#description"><span class="toc-number">2.8.</span> <span class="toc-text">description</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dependencies"><span class="toc-number">2.9.</span> <span class="toc-text">dependencies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#build"><span class="toc-number">2.10.</span> <span class="toc-text">build</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#parent"><span class="toc-number">2.11.</span> <span class="toc-text">parent</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#仓库"><span class="toc-number">3.</span> <span class="toc-text">仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maven的生命周期"><span class="toc-number">4.</span> <span class="toc-text">Maven的生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#maven坐标"><span class="toc-number">5.</span> <span class="toc-text">maven坐标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#maven项目的目录结构"><span class="toc-number">6.</span> <span class="toc-text">maven项目的目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置maven"><span class="toc-number">7.</span> <span class="toc-text">配置maven</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建一个maven项目"><span class="toc-number">8.</span> <span class="toc-text">创建一个maven项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加辅助测试"><span class="toc-number">9.</span> <span class="toc-text">添加辅助测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改本地仓库位置"><span class="toc-number">10.</span> <span class="toc-text">修改本地仓库位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包"><span class="toc-number">11.</span> <span class="toc-text">打包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考"><span class="toc-number"></span> <span class="toc-text">参考</span></a></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/pic.jpg"></div><div class="author-info-name">Expvul.0D</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/l34rner" target="_blank">GitHub<i class="icon-dot bg-color6"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">日志</span><span class="pull-bottom">3</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">标签</span><span class="pull-bottom">1</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">首页</a><a class="menu-item" href="/tags">标签</a><a class="menu-item" href="/categories">分类</a><a class="menu-item" href="/archives">归档</a><a class="menu-item" href="/about">关于</a></nav><div class="right-info"><a class="title-name" href="/">Exploit this vulnerable world</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">Maven基础笔记</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 发表于 2019-12-02 | 更新于 2019-12-12</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AF%87%C2%B7%E5%8C%96%E6%97%A0%E7%82%BC%E6%9C%89/">学习篇·化无炼有</a></div></div></div><div class="main-content"><h2 id="什么是maven"><a href="#什么是maven" class="headerlink" title="什么是maven"></a>什么是maven</h2><p>maven是一个项目管理工具，用来进行项目构建，就是将软件项目构建的过程自动化的一个工具。举个例子：通常我们在开发过程中可能会用到很多依赖包（通常我们所说的依赖就是jar包），比如链接数据库需要对应数据库驱动的jar包，通常的一个做法是为了方便我们可能会把所有这些可能用到的jar包放到一个目录中，需要用的时候就从这个目录中拷贝出来放到项目里，maven可以简单理解成一个这样的云端目录，这里面也集成了很多的jar包，当你需要用的时候就通过maven从云端取到本地来。</p>
<h2 id="POM"><a href="#POM" class="headerlink" title="POM"></a>POM</h2><p>POM全称是Project Object Model。POM是一个XML文件，在maven中为pom.xml，它是maven工作的基础，在执行任务时，maven会去根目录读取pom.xml的配置以获得所需要的配置信息，换言之，如果一个项目的根目录下有pom.xml，那这一定是一个maven项目。<br>POM文件中包含了项目的信息和maven build项目所需要的配置信息，简单理解就是说明了一个项目依赖哪些jar包、哪些插件以及一些其他的配置信息。<br>POM是可以继承的，对于一个大型项目或者多个模块的情况，子模块的POM需要指定父模块的POM。<br>文件的节点说明：maven.apache.org/pom.html</p>
<h3 id="project"><a href="#project" class="headerlink" title="project"></a>project</h3><p>POM的顶级元素，任何你想build的事物都会被maven当做一个project，project被定义为POM，一个project可以依赖其他的project，一个project也可以有多个子project组成。</p>
<h3 id="modelVersion"><a href="#modelVersion" class="headerlink" title="modelVersion"></a>modelVersion</h3><p>模型版本号，是强制的，通常不需要修改</p>
<h3 id="groupId"><a href="#groupId" class="headerlink" title="groupId"></a>groupId</h3><p>项目的唯一性标识，一般是域名倒写</p>
<h3 id="artifactId"><a href="#artifactId" class="headerlink" title="artifactId"></a>artifactId</h3><p>项目的artifact唯一的基地址名，通常是项目名或者模块名</p>
<h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><p>artifact的版本</p>
<h3 id="packaging"><a href="#packaging" class="headerlink" title="packaging"></a>packaging</h3><p>artifact的打包方式，比如：jar、war、ear等，默认是jar</p>
<h3 id="name和url"><a href="#name和url" class="headerlink" title="name和url"></a>name和url</h3><p>项目的展现名和生成地址，很少用</p>
<h3 id="description"><a href="#description" class="headerlink" title="description"></a>description</h3><p>同样很少用</p>
<h3 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h3><p>表示依赖，在子节点dependencies中添加具体依赖的groupid，artifactid和version。Maven在搭建工程时主要就是编写依赖，编写依赖不能随便乱写，主要从官网复制。</p>
<h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p>表示build配置</p>
<h3 id="parent"><a href="#parent" class="headerlink" title="parent"></a>parent</h3><p>表示父POM</p>
<h2 id="仓库"><a href="#仓库" class="headerlink" title="仓库"></a>仓库</h2><p>仓库（respoitories）是存储artifact的，如果在项目中需要使用某个依赖时，就在dependency中声明，编译代码时就会根据dependency去下载编译。<br>对于自己的项目可以使用mvn install将项目放到仓库中。<br>官网仓库地址：mvnrepository.com<br>开发过程中如果需要依赖时，首先会在本地仓库中找，如果本地仓库中没有则去中央仓库中找，找到之后放到本地仓库中。</p>
<h2 id="Maven的生命周期"><a href="#Maven的生命周期" class="headerlink" title="Maven的生命周期"></a>Maven的生命周期</h2><p>maven本质上是一个插件框架，它的核心不执行任何具体的构建任务，它只定义应该怎么做，具体去做都是由插件来完成。<br>default生命周期主要完成项目的部署，clean生命周期处理项目构建后的清理工作，site生命周期对项目的站点文档进行生成。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mvn compile 编译源码</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">mvn test 运行测试程序</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">mvn clean 清除目标目录中的生成结果</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">mvn package 依据项目生成jar\war文件</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">mvn install 在本地仓库中安装jar</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">mvn clean install 删除再编译</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">mvn archetype:genate 生成maven项目结构</span></pre></td></tr></table></figure>
<h2 id="maven坐标"><a href="#maven坐标" class="headerlink" title="maven坐标"></a>maven坐标</h2><p>定位一个具体的依赖靠的是mavan的GAV坐标，即groupid、artifactid和version三要素可以确定一个具体的maven项目。</p>
<h2 id="maven项目的目录结构"><a href="#maven项目的目录结构" class="headerlink" title="maven项目的目录结构"></a>maven项目的目录结构</h2><p>maven采用惯例优于配置的原则，即通过maven创建一个项目后，项目的目录结构默认如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">    目录                                          用途</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;                      项目根目录，存放pom.xml和所有子目录</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;&#x2F;src&#x2F;main&#x2F;java        存放java项目的源代码</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;&#x2F;src&#x2F;main&#x2F;resources   存放项目的资源配置文件，相当于classpath</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;&#x2F;src&#x2F;main&#x2F;webapp      如果是java web项目，存放web资源</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;&#x2F;src&#x2F;test&#x2F;java        存放测试类的源码</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;&#x2F;src&#x2F;test&#x2F;resources   存放测试需要的资源配置文件</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">$&#123;basedir&#125;&#x2F;target               存放生成的字节码文件以及打包生成文件等</span></pre></td></tr></table></figure>
<p>主要就是3类目录：根目录、src子目录、target子目录。maven项目不依赖于开发工具（eclipse开发的项目放到其他工具，比如IDEA下部署，就要改目录结构），而maven已经约定了一套目录结构，只要是maven项目，就一定是这种目录结构。</p>
<h2 id="配置maven"><a href="#配置maven" class="headerlink" title="配置maven"></a>配置maven</h2><p>windows下配置maven和配置JDK的方式是类似的，先去maven.apache.org/download.cgi把maven的包下好，然后在环境变量中添加MAVEN_HOME，接着在path中添加<code>%MAVEN_HOME%/bin</code>即可，如果添加成功，在命令行下使用<code>mvn -version</code>会打印出maven的版本号<br>￼<img src="/2019/12/02/Maven%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/21-42-14.jpg" alt></p>
<h2 id="创建一个maven项目"><a href="#创建一个maven项目" class="headerlink" title="创建一个maven项目"></a>创建一个maven项目</h2><p>下面尝试创建一个maven项目，首先创建一个空目录作为项目的根目录，然后建立两个子目录src和target（target也可以不创建，编译项目的时候会自动生成）以及一个Pom.xml文件。前面说过pom.xml文件的内容不能随便写，去官网复制一个例子，修改对应的GAV坐标，如下所示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &lt;groupId&gt;com.yourGroupId&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &lt;artifactId&gt;yourProject&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &lt;version&gt;yourVersion&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;project&gt;</span></pre></td></tr></table></figure>
<p>接着就开始在src/main/java目录下编写项目代码了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mvn compile #在当前maven项目的根目录下执行，编译maven项目</span></pre></td></tr></table></figure>
<p>清除项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mvn clean #会把整个target目录删掉</span></pre></td></tr></table></figure>
<p>除了上述方法以外，最简单的是使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mvn archetype:genate</span></pre></td></tr></table></figure>
<p>来生成一个maven项目结构</p>
<h2 id="添加辅助测试"><a href="#添加辅助测试" class="headerlink" title="添加辅助测试"></a>添加辅助测试</h2><p>通常我们使用junit进行测试，那么maven项目中要添加测试的话，就要去mvnrepository.com中搜索junit，如下</p>
<p><img src="/2019/12/02/Maven%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/07-35-46.jpg" alt>￼<br>找到要使用的junit版本，比如4.12，将”Include comment with link to declaration”的勾取消掉，剩下的就是我们需要添加进pom.xml中的dependency描述了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &lt;groupId&gt;org.codehaus.mojo&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &lt;artifactId&gt;my-project&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &lt;version&gt;1.0&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;project&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    &lt;dependency&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">        &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        &lt;version&gt;4.12&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        &lt;scope&gt;test&lt;&#x2F;scope&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">    &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;dependencies&gt;</span></pre></td></tr></table></figure>
<p>其中有个scope，值是test，表示只有在测试的时候才生效，这个子标签可以去掉，scope所有可选的值如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">compile：编译、测试、运行期都有效，是默认值</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">test：测试期有效</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">provided：编译、测试期有效</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">runtime：运行和测试器有效</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">system： 编译，测试有效。使用此范围的依赖必须通过systemPath元素显式的指定依赖文件，因而此类依赖是不通过Maven仓库解析的，一般适合于本机测试环境下，依赖本地起的服务</span></pre></td></tr></table></figure>
<p>接着在src/test/java中编写测试代码，测试类的包名要和被测试类包名保持一致。测试类的类名为被测试类的类名+Test。测试类的方法名为test+被测试方法名，最后进行测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mvn test</span></pre></td></tr></table></figure>
<h2 id="修改本地仓库位置"><a href="#修改本地仓库位置" class="headerlink" title="修改本地仓库位置"></a>修改本地仓库位置</h2><p>maven的默认本地仓库是在系统盘的.m2目录，如果要修改本地仓库位置，需要修改maven安装目录的conf子目录中的settings.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;localRepository&gt;想要指定的路径&lt;&#x2F;localRepository&gt;</span></pre></td></tr></table></figure>
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p>在maven项目的根目录下执行，默认会打成jar包，如果pom.xml中指定了其他类型的包则会按指定方式打包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mvn package</span></pre></td></tr></table></figure>
<p>如果想在B项目中使用A项目，仅使用mvn package则不够，因为该指令仅仅是打包，但B项目如果要使用其他项目则是到本地仓库中去寻找，所以如果要使B能使用A，除了将A打包以外，还要发布到本地仓库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">#打包并发布到本地仓库</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">mvn install</span></pre></td></tr></table></figure>
<p>此时在B的pom.xml中添加denpendencies，将A加入进来即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"> </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &lt;groupId&gt;项目B的groupId&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &lt;artifactId&gt;项目B的artifactId&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &lt;version&gt;项目B的版本号&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;project&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    &lt;dependency&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        A项目的GAV坐标</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;dependencies&gt;</span></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>其他更具体的操作，比如转成idea项目，如何在idea和eclipse中使用maven等，可参考：<a href="https://www.cnblogs.com/best/p/9676515.html" target="_blank" rel="noopener">https://www.cnblogs.com/best/p/9676515.html</a></p>
</div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="mailto:undefined" target="_blank" rel="noopener">Expvul.0D</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="/https:/www.expvul0d.com/2019/12/02/Maven%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">https://www.expvul0d.com/2019/12/02/Maven%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.expvul0d.com">Exploit this vulnerable world</a>！</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2019/12/21/Java-Annotation/"><i class="fas fa-angle-left">&nbsp;</i><span>Java Annotation</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2018/07/08/%E7%8E%8B%E7%88%BD%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0/"><span>王爽汇编语言笔记</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2017 ～ 2019 By Expvul.0D</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--></body></html>